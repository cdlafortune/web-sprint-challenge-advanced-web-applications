{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\cdsud\\\\OneDrive\\\\Desktop\\\\LambdaSchool\\\\web-sprint-challenge-advanced-web-applications\\\\client\\\\src\\\\components\\\\Login.js\";\nimport React, { useState } from \"react\";\nimport axios from \"axios\";\n\nconst Login = props => {\n  // make a post request to retrieve a token from the api\n  // when you have handled the token, navigate to the BubblePage route\n  const [credentials, setCredentials] = useState({});\n  const [isLoading, setIsLoading] = useState(false);\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [error, setError] = useState(\"\");\n\n  const handleChanges = e => {\n    setCredentials({ ...credentials,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    setIsLoading(true);\n    axios.post(\"http://localhost:5000/api/login\", credentials).then(res => {\n      console.log(res);\n      localStorage.setItem(\"token\", res.data.payload);\n      props.history.push(\"/protected\");\n    }).catch(err => console.log(err));\n  };\n\n  return React.createElement(\"div\", {\n    className: \"login\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, \"Welcome to the Bubble App!\"), React.createElement(\"h3\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, error), isLoading ? React.createElement(\"h3\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, \"Loading...\") : React.createElement(\"form\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }));\n};\n\nexport default Login;","map":{"version":3,"sources":["C:/Users/cdsud/OneDrive/Desktop/LambdaSchool/web-sprint-challenge-advanced-web-applications/client/src/components/Login.js"],"names":["React","useState","axios","Login","props","credentials","setCredentials","isLoading","setIsLoading","loggedIn","setLoggedIn","error","setError","handleChanges","e","target","name","value","handleSubmit","preventDefault","post","then","res","console","log","localStorage","setItem","data","payload","history","push","catch","err"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,QAAf,QAA8B,OAA9B;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,KAAK,GAAIC,KAAD,IAAW;AACvB;AACA;AACA,QAAM,CAACC,WAAD,EAAcC,cAAd,IAAgCL,QAAQ,CAAC,EAAD,CAA9C;AACA,QAAM,CAACM,SAAD,EAAYC,YAAZ,IAA4BP,QAAQ,CAAC,KAAD,CAA1C;AACA,QAAM,CAACQ,QAAD,EAAWC,WAAX,IAA0BT,QAAQ,CAAC,KAAD,CAAxC;AACA,QAAM,CAACU,KAAD,EAAQC,QAAR,IAAoBX,QAAQ,CAAC,EAAD,CAAlC;;AAEA,QAAMY,aAAa,GAAGC,CAAC,IAAI;AACzBR,IAAAA,cAAc,CAAC,EACb,GAAGD,WADU;AAEb,OAACS,CAAC,CAACC,MAAF,CAASC,IAAV,GAAiBF,CAAC,CAACC,MAAF,CAASE;AAFb,KAAD,CAAd;AAID,GALD;;AAOA,QAAMC,YAAY,GAAGJ,CAAC,IAAI;AACxBA,IAAAA,CAAC,CAACK,cAAF;AACAX,IAAAA,YAAY,CAAC,IAAD,CAAZ;AAEAN,IAAAA,KAAK,CAACkB,IAAN,CAAW,iCAAX,EAA8Cf,WAA9C,EACGgB,IADH,CACQC,GAAG,IAAI;AACXC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACAG,MAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BJ,GAAG,CAACK,IAAJ,CAASC,OAAvC;AACAxB,MAAAA,KAAK,CAACyB,OAAN,CAAcC,IAAd,CAAmB,YAAnB;AACD,KALH,EAMGC,KANH,CAMSC,GAAG,IAAIT,OAAO,CAACC,GAAR,CAAYQ,GAAZ,CANhB;AAOD,GAXD;;AAgBA,SACE;AAAK,IAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKrB,KAAL,CAFF,EAIGJ,SAAS,GAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAJ,GACR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALJ,CADF;AAcD,CA7CD;;AA+CA,eAAeJ,KAAf","sourcesContent":["import React, {useState} from \"react\";\r\nimport axios from \"axios\";\r\n\r\nconst Login = (props) => {\r\n  // make a post request to retrieve a token from the api\r\n  // when you have handled the token, navigate to the BubblePage route\r\n  const [credentials, setCredentials] = useState({});\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [loggedIn, setLoggedIn] = useState(false);\r\n  const [error, setError] = useState(\"\");\r\n\r\n  const handleChanges = e => {\r\n    setCredentials({\r\n      ...credentials, \r\n      [e.target.name]: e.target.value\r\n    });\r\n  };\r\n\r\n  const handleSubmit = e => {\r\n    e.preventDefault();\r\n    setIsLoading(true);\r\n\r\n    axios.post(\"http://localhost:5000/api/login\", credentials)\r\n      .then(res => {\r\n        console.log(res);\r\n        localStorage.setItem(\"token\", res.data.payload);\r\n        props.history.push(\"/protected\");\r\n      })\r\n      .catch(err => console.log(err));\r\n  }\r\n\r\n\r\n\r\n\r\n  return (\r\n    <div className=\"login\">\r\n      <h1>Welcome to the Bubble App!</h1>\r\n      <h3>{error}</h3>\r\n\r\n      {isLoading ? (<h3>Loading...</h3>) : (\r\n        <form>\r\n\r\n\r\n\r\n        </form>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"]},"metadata":{},"sourceType":"module"}