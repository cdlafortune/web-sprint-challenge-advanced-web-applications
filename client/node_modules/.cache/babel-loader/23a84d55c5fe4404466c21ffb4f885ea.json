{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\cdsud\\\\OneDrive\\\\Desktop\\\\LambdaSchool\\\\web-sprint-challenge-advanced-web-applications\\\\client\\\\src\\\\components\\\\Login.js\";\nimport React, { useState } from \"react\";\nimport axios from \"axios\";\n\nconst Login = props => {\n  // make a post request to retrieve a token from the api\n  // when you have handled the token, navigate to the BubblePage route\n  const [credentials, setCredentials] = useState({});\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n\n  const handleChanges = e => {\n    setCredentials({ ...credentials,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    setIsLoading(true);\n    axios.post(\"http://localhost:5000/api/login\", credentials).then(res => {\n      console.log(res);\n      localStorage.setItem(\"token\", res.data.payload);\n      props.history.push(\"/protected\");\n      setIsLoading(false);\n    }).catch(err => {\n      console.log(err);\n      setError(\"Invalid credentials.\");\n      setIsLoading(false);\n    });\n  };\n\n  return React.createElement(\"div\", {\n    className: \"login\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, \"Welcome to the Bubble App!\"), React.createElement(\"h3\", {\n    className: \"error-msg\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, error), isLoading ? React.createElement(\"h3\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, \"Loading...\") : React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    htmlFor: \"username\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, \"Username: \"), React.createElement(\"input\", {\n    type: \"text\",\n    name: \"username\",\n    value: credentials.username,\n    onChange: handleChanges,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }), React.createElement(\"label\", {\n    htmlFor: \"Password\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, \"Password: \"), React.createElement(\"input\", {\n    type: \"password\",\n    name: \"password\",\n    value: credentials.password,\n    onChange: handleChanges,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    id: \"login-btn\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, \"Log In\")));\n};\n\nexport default Login;","map":{"version":3,"sources":["C:/Users/cdsud/OneDrive/Desktop/LambdaSchool/web-sprint-challenge-advanced-web-applications/client/src/components/Login.js"],"names":["React","useState","axios","Login","props","credentials","setCredentials","isLoading","setIsLoading","error","setError","handleChanges","e","target","name","value","handleSubmit","preventDefault","post","then","res","console","log","localStorage","setItem","data","payload","history","push","catch","err","username","password"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,QAAf,QAA8B,OAA9B;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,KAAK,GAAIC,KAAD,IAAW;AACvB;AACA;AACA,QAAM,CAACC,WAAD,EAAcC,cAAd,IAAgCL,QAAQ,CAAC,EAAD,CAA9C;AACA,QAAM,CAACM,SAAD,EAAYC,YAAZ,IAA4BP,QAAQ,CAAC,KAAD,CAA1C;AACA,QAAM,CAACQ,KAAD,EAAQC,QAAR,IAAoBT,QAAQ,CAAC,EAAD,CAAlC;;AAEA,QAAMU,aAAa,GAAGC,CAAC,IAAI;AACzBN,IAAAA,cAAc,CAAC,EACb,GAAGD,WADU;AAEb,OAACO,CAAC,CAACC,MAAF,CAASC,IAAV,GAAiBF,CAAC,CAACC,MAAF,CAASE;AAFb,KAAD,CAAd;AAID,GALD;;AAOA,QAAMC,YAAY,GAAGJ,CAAC,IAAI;AACxBA,IAAAA,CAAC,CAACK,cAAF;AACAT,IAAAA,YAAY,CAAC,IAAD,CAAZ;AAEAN,IAAAA,KAAK,CAACgB,IAAN,CAAW,iCAAX,EAA8Cb,WAA9C,EACGc,IADH,CACQC,GAAG,IAAI;AACXC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACAG,MAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BJ,GAAG,CAACK,IAAJ,CAASC,OAAvC;AACAtB,MAAAA,KAAK,CAACuB,OAAN,CAAcC,IAAd,CAAmB,YAAnB;AACApB,MAAAA,YAAY,CAAC,KAAD,CAAZ;AACD,KANH,EAOGqB,KAPH,CAOSC,GAAG,IAAI;AACZT,MAAAA,OAAO,CAACC,GAAR,CAAYQ,GAAZ;AACApB,MAAAA,QAAQ,CAAC,sBAAD,CAAR;AACAF,MAAAA,YAAY,CAAC,KAAD,CAAZ;AACD,KAXH;AAYD,GAhBD;;AAkBA,SACE;AAAK,IAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCADF,EAEE;AAAI,IAAA,SAAS,EAAC,WAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA2BC,KAA3B,CAFF,EAIGF,SAAS,GAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAJ,GACR;AAAM,IAAA,QAAQ,EAAES,YAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAO,IAAA,OAAO,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,EAEE;AACE,IAAA,IAAI,EAAC,MADP;AAEE,IAAA,IAAI,EAAC,UAFP;AAGE,IAAA,KAAK,EAAEX,WAAW,CAAC0B,QAHrB;AAIE,IAAA,QAAQ,EAAEpB,aAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,EAQE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IARF,EAUE;AAAO,IAAA,OAAO,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAVF,EAWE;AACE,IAAA,IAAI,EAAC,UADP;AAEE,IAAA,IAAI,EAAC,UAFP;AAGE,IAAA,KAAK,EAAEN,WAAW,CAAC2B,QAHrB;AAIE,IAAA,QAAQ,EAAErB,aAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAXF,EAiBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAjBF,EAmBE;AAAQ,IAAA,EAAE,EAAC,WAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAnBF,CALJ,CADF;AA8BD,CA9DD;;AAgEA,eAAeR,KAAf","sourcesContent":["import React, {useState} from \"react\";\r\nimport axios from \"axios\";\r\n\r\nconst Login = (props) => {\r\n  // make a post request to retrieve a token from the api\r\n  // when you have handled the token, navigate to the BubblePage route\r\n  const [credentials, setCredentials] = useState({});\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState(\"\");\r\n\r\n  const handleChanges = e => {\r\n    setCredentials({\r\n      ...credentials, \r\n      [e.target.name]: e.target.value\r\n    });\r\n  };\r\n\r\n  const handleSubmit = e => {\r\n    e.preventDefault();\r\n    setIsLoading(true);\r\n\r\n    axios.post(\"http://localhost:5000/api/login\", credentials)\r\n      .then(res => {\r\n        console.log(res);\r\n        localStorage.setItem(\"token\", res.data.payload);\r\n        props.history.push(\"/protected\");\r\n        setIsLoading(false);\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n        setError(\"Invalid credentials.\");\r\n        setIsLoading(false);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className=\"login\">\r\n      <h1>Welcome to the Bubble App!</h1>\r\n      <h3 className=\"error-msg\">{error}</h3>\r\n\r\n      {isLoading ? (<h3>Loading...</h3>) : (\r\n        <form onSubmit={handleSubmit}>\r\n          <label htmlFor=\"username\">Username: </label>\r\n          <input \r\n            type=\"text\"\r\n            name=\"username\"\r\n            value={credentials.username}\r\n            onChange={handleChanges}\r\n          />\r\n          <br/>\r\n\r\n          <label htmlFor=\"Password\">Password: </label>\r\n          <input \r\n            type=\"password\"\r\n            name=\"password\"\r\n            value={credentials.password}\r\n            onChange={handleChanges}\r\n          />\r\n          <br/>\r\n\r\n          <button id=\"login-btn\">Log In</button>\r\n        </form>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"]},"metadata":{},"sourceType":"module"}